---
title: 'Generate presigned payslip URLs'
openapi: 'POST /payroll/entries/payslips/presign'
---

Request short-lived URLs to upload payslip PDFs directly to Teal managed storage.
Use the returned `presigned_url` values with HTTP `PUT`, then call
`POST /payroll/entries/payslips` to submit the uploaded documents for processing.

<RequestExample>

```bash cURL
curl --request POST \
  --url https://api.sandbox.goteal.co/payroll/entries/payslips/presign \
  --header 'Authorization: Bearer <token>' \
  --header 'Content-Type: application/json' \
  --data '{
    "files": [
      {"file_name": "payslip1.pdf", "external_id": "ext-jan-2024"},
      {"file_name": "payslip2.pdf"}
    ]
  }'
```

```python Python
import json
import requests

token = "<token>"
url = "https://api.sandbox.goteal.co/payroll/entries/payslips/presign"

payload = {
    "files": [
        {"file_name": "payslip1.pdf", "external_id": "ext-jan-2024"},
        {"file_name": "payslip2.pdf"},
    ]
}

response = requests.post(
    url,
    headers={
        "Authorization": f"Bearer {token}",
        "Content-Type": "application/json",
    },
    json=payload,
)

response.raise_for_status()

print(json.dumps(response.json(), indent=2))
```

```javascript JavaScript
import axios from 'axios'

const token = '<token>'
const response = await axios.post(
  'https://api.sandbox.goteal.co/payroll/entries/payslips/presign',
  {
    files: [
      { file_name: 'payslip1.pdf', external_id: 'ext-jan-2024' },
      { file_name: 'payslip2.pdf' }
    ]
  },
  {
    headers: {
      Authorization: `Bearer ${token}`,
      'Content-Type': 'application/json'
    }
  }
)

console.log(response.data)
```

```php PHP
<?php

$token = '<token>';
$payload = json_encode([
  'files' => [
    ['file_name' => 'payslip1.pdf', 'external_id' => 'ext-jan-2024'],
    ['file_name' => 'payslip2.pdf'],
  ],
]);

$curl = curl_init('https://api.sandbox.goteal.co/payroll/entries/payslips/presign');
curl_setopt_array($curl, [
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_CUSTOMREQUEST => 'POST',
  CURLOPT_POSTFIELDS => $payload,
  CURLOPT_HTTPHEADER => [
    'Authorization: Bearer ' . $token,
    'Content-Type: application/json',
  ],
]);

$response = curl_exec($curl);
if ($response === false) {
  throw new RuntimeException('cURL error: ' . curl_error($curl));
}

$statusCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);
curl_close($curl);

if ($statusCode >= 400) {
  throw new RuntimeException('Request failed: ' . $response);
}

print_r(json_decode($response, true));
```

```go Go
package main

import (
	"bytes"
	"encoding/json"
	"fmt"
	"io"
	"net/http"
)

func main() {
	payload := map[string]any{
		"files": []map[string]any{
			{"file_name": "payslip1.pdf", "external_id": "ext-jan-2024"},
			{"file_name": "payslip2.pdf"},
		},
	}

	body, _ := json.Marshal(payload)
	req, _ := http.NewRequest(
		"POST",
		"https://api.sandbox.goteal.co/payroll/entries/payslips/presign",
		bytes.NewBuffer(body),
	)

	req.Header.Set("Authorization", "Bearer <token>")
	req.Header.Set("Content-Type", "application/json")

	resp, err := http.DefaultClient.Do(req)
	if err != nil {
		panic(err)
	}
	defer resp.Body.Close()

	if resp.StatusCode >= 400 {
		respBody, _ := io.ReadAll(resp.Body)
		panic(fmt.Sprintf("request failed: %s", string(respBody)))
	}

	respBody, _ := io.ReadAll(resp.Body)
	fmt.Println(string(respBody))
}
```

```java Java
import kong.unirest.HttpResponse;
import kong.unirest.Unirest;

String token = "<token>";

HttpResponse<String> response = Unirest.post("https://api.sandbox.goteal.co/payroll/entries/payslips/presign")
    .header("Authorization", "Bearer " + token)
    .header("Content-Type", "application/json")
    .body("{\n  \"files\": [\n    {\"file_name\": \"payslip1.pdf\", \"external_id\": \"ext-jan-2024\"},\n    {\"file_name\": \"payslip2.pdf\"}\n  ]\n}")
    .asString();

if (!response.isSuccess()) {
    throw new RuntimeException("Presign request failed: " + response.getBody());
}

System.out.println(response.getBody());
```

</RequestExample>

<ResponseExample>

```json Response
{
  "presigned_urls": [
    {
      "file_name": "payslip1.pdf",
      "external_id": "ext-jan-2024",
      "presigned_url": "https://s3.amazonaws.com/bucket/presigned-uploads/payslip1.pdf?signature=abc123",
      "path": "client/acct123/users/user456/payslip1.pdf"
    },
    {
      "file_name": "payslip2.pdf",
      "presigned_url": "https://s3.amazonaws.com/bucket/presigned-uploads/payslip2.pdf?signature=def456",
      "path": "client/acct123/users/user456/payslip2.pdf"
    }
  ]
}
```

</ResponseExample>

